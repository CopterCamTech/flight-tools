<!DOCTYPE html>
<html>
<head>
    <title>PX4 Log Info</title>
</head>
<body>
    <h1>PX4 Log Summary</h1>

    {% if not summary and not filename %}
        <form method="post" enctype="multipart/form-data">
            <input type="file" name="file" accept=".ULG">
            <input type="submit" value="Upload">
        </form>
    {% endif %}

    {% if summary %}
        <p><strong>Filename:</strong> {{ summary.filename }}</p>
        <p><strong>Total Messages:</strong> {{ summary.total_messages }}</p>
        <p><strong>Log Duration:</strong> {{ summary.log_duration }}</p>

        <h2>Message Types</h2>
        <ul>
        {% for msg_type in summary.message_types %}
            <li>{{ msg_type }}</li>
        {% endfor %}
        </ul>
    {% elif filename %}
        <p style="color: red;"><strong>Error:</strong> No summary available or invalid file uploaded.</p>
    {% endif %}

    <hr>
    <a href="/ulg-info">Upload another file</a>
</body>
</html>

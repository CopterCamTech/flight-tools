<!DOCTYPE html>
<html>
<head>
    <title>Bin Power Plot</title>
</head>
<body>
    <h1>ArduPilot Power Metrics</h1>

    {% if not chart_data and not summary %}
        <form method="post" enctype="multipart/form-data">
            <label for="logfile"><strong>Upload a .BIN file:</strong></label>
            <input type="file" name="logfile" accept=".BIN">
            <input type="submit" value="Upload">
        </form>
    {% endif %}

    {% if summary and summary.error %}
        <p style="color: red;"><strong>Error:</strong> {{ summary.error }}</p>
    {% endif %}

    {% if chart_data %}
        <p><strong>Filename:</strong> {{ filename }}</p>
        <h2>Power Chart</h2>
        <img src="data:image/png;base64,{{ chart_data }}" alt="Power Chart">
    {% endif %}

    <hr>
    <a href="/bin-power-plot">Upload another file</a>
</body>
</html>
